<!DOCTYPE html>
<html>
<head>
	<title>ccdbchatbot</title>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script> 
	<script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
    <script type="text/javascript" src="lib/url-template/url-template.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
    <script type="text/javascript" src="apigClient.js"></script>
</head>
<body>
<h1>chatbot demo</h1>
<form method="POST">
    <input type="text" name="message" placeholder="Your message">
    <input type="submit" value="send">
</form>
<div id = "response">wait for response...</div>

<script type="text/javascript">
var dataResult;
$(document).ready(function() {

    var apigClient = apigClientFactory.newClient();
    $('form').submit(function(event) {

        // get the form data
        // there are many ways to get this data using jQuery (you can use the class or id also)
        // var formData = {
        //     'bookid' : $('input[name=message]').val()
        // };
        
		var params = {
			//This is where any header, path, or querystring request params go. The key is the parameter named as defined in the API
			// 'bookid' : $('input[name=bookid]').val()
		};
		var body = {
			//This is where you define the body of the request
			"message" : $("input[type='text']").val()
				
		};
		var additionalParams = {
			//If there are any unmodeled query parameters or headers that need to be sent with the request you can add them here
		};

		apigClient.chatbotPost(params, body, additionalParams)
			.then(function(result){
				var resultStr = result.data;
				$('#response').html(resultStr);
			}).catch( function(result){
				console.log("error");
			});
		
		return false;
    });
    
   

});
</script>

</body>
</html>